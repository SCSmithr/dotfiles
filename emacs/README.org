* Emacs configuration

Some notes about my emacs configuration.

** Email
   
Email is handled through ~mu4e~ and ~mbsync~.

Example ~.mbsyncrc~:
#+BEGIN_SRC 
IMAPAccount personal
Host imap.gmail.com
User scsmithr@gmail.com
Pass <password>
# Use SSL
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore personal-remote
Account personal

MaildirStore personal-local
Subfolders Verbatim
# The trailing "/" is important
Path ~/.mail/personal/
Inbox ~/.mail/personal/Inbox

Channel personal
Master :personal-remote:
Slave :personal-local:
# Include everything
Patterns *
# Automatically create missing mailboxes, both locally and on the server
Create Both
# Save the synchronization state files in the relevant directory
SyncState *
#+END_SRC

Example ~.authinfo~:
#+BEGIN_SRC 
machine smtp.gmail.com login scsmithr@gmail.com port 25
machine smtp.gmail.com login scsmithr@gmail.com password <password>
#+END_SRC

All configuration assumes the mail directory is at =~/.mail=. Syncing emails is
done with ~mbsync -a~, and an intial index can be done by running ~mu index
--maildir=~/.mail~.

Automatic sinking can be done with a systemd unit.

=~/.config/systemd/user/mbsync.service=:
#+BEGIN_SRC 
[Unit]
Description=Mailbox synchronization service

[Service]
Type=oneshot
ExecStart=/usr/bin/mbsync -Va
#+END_SRC


=~/.config/systemd/user/mbsync.timer=:
#+BEGIN_SRC 
[Unit]
Description=Mailbox synchronization timer

[Timer]
OnBootSec=2m
OnUnitActiveSec=5m
Unit=mbsync.service

[Install]
WantedBy=timers.target
#+END_SRC
