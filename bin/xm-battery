#!/bin/bash

[ ! -d /sys/class/power_supply/BAT0 ] && exit 0

max=$(cat /sys/class/power_supply/BAT0/charge_full)
curr=$(cat /sys/class/power_supply/BAT0/charge_now)

percent=$(( curr * 100 / max ))

bat_stat=$(cat /sys/class/power_supply/BAT0/status | awk '{print tolower($0)}')
case $bat_stat in
    "discharging")
        stat_icon=" -"
        ;;
    "charging")
        stat_icon=" +"
        ;;
esac

echo "<fc=#657b83> bat:</fc> $percent%$stat_icon"

